title:: 2363. Merge Similar Items

- # Description
	- You are given two 2D integer arrays, `items1` and `items2`, representing two sets of items. Each array `items` has the following properties:
	- `items[i] = [valuei, weighti]` where `valuei` represents the **value** and `weighti` represents the **weight **of the `ith` item.
	- The value of each item in `items` is **unique**.
	  
	  Return *a 2D integer array* `ret` *where* `ret[i] = [valuei, weighti]`*,* *with* `weighti` *being the **sum of weights** of all items with value* `valuei`.
	  
	  **Note:** `ret` should be returned in **ascending** order by value.
	  
	  
	  
	  **Example 1:**
	  
	  ```
	  **Input:** items1 = [[1,1],[4,5],[3,8]], items2 = [[3,1],[1,5]]
	  **Output:** [[1,6],[3,9],[4,5]]
	  **Explanation:** 
	  The item with value = 1 occurs in items1 with weight = 1 and in items2 with weight = 5, total weight = 1 + 5 = 6.
	  The item with value = 3 occurs in items1 with weight = 8 and in items2 with weight = 1, total weight = 8 + 1 = 9.
	  The item with value = 4 occurs in items1 with weight = 5, total weight = 5.  
	  Therefore, we return [[1,6],[3,9],[4,5]].
	  ```
	  
	  **Example 2:**
	  
	  ```
	  **Input:** items1 = [[1,1],[3,2],[2,3]], items2 = [[2,1],[3,2],[1,3]]
	  **Output:** [[1,4],[2,4],[3,4]]
	  **Explanation:** 
	  The item with value = 1 occurs in items1 with weight = 1 and in items2 with weight = 3, total weight = 1 + 3 = 4.
	  The item with value = 2 occurs in items1 with weight = 3 and in items2 with weight = 1, total weight = 3 + 1 = 4.
	  The item with value = 3 occurs in items1 with weight = 2 and in items2 with weight = 2, total weight = 2 + 2 = 4.
	  Therefore, we return [[1,4],[2,4],[3,4]].
	  ```
	  
	  **Example 3:**
	  
	  ```
	  **Input:** items1 = [[1,3],[2,2]], items2 = [[7,1],[2,2],[1,4]]
	  **Output:** [[1,7],[2,4],[7,1]]
	  **Explanation:
	  **The item with value = 1 occurs in items1 with weight = 3 and in items2 with weight = 4, total weight = 3 + 4 = 7. 
	  The item with value = 2 occurs in items1 with weight = 2 and in items2 with weight = 2, total weight = 2 + 2 = 4. 
	  The item with value = 7 occurs in items2 with weight = 1, total weight = 1.
	  Therefore, we return [[1,7],[2,4],[7,1]].
	  ```
	  
	  
	  
	  **Constraints:**
	- `1 <= items1.length, items2.length <= 1000`
	- `items1[i].length == items2[i].length == 2`
	- `1 <= valuei, weighti <= 1000`
	- Each `valuei` in `items1` is **unique**.
	- Each `valuei` in `items2` is **unique**.
- # Solution 1: Two pointers
	- ```java
	  // time:  O(NlogN)
	  // space: O(1)
	  class Solution {
	      private static final int VALUE = 0;
	      private static final int WEIGHT = 1;
	  
	      public List<List<Integer>> mergeSimilarItems(int[][] items1, int[][] items2) {
	          Arrays.sort(items1, (a, b) -> a[VALUE] - b[VALUE]);
	          Arrays.sort(items2, (a, b) -> a[VALUE] - b[VALUE]);
	          int p1 = 0, p2 = 0;
	          int n1 = items1.length, n2 = items2.length;
	  
	          List<List<Integer>> res = new ArrayList<>();
	          while (p1 < n1 || p2 < n2) {
	              List<Integer> r = new ArrayList<>();
	              if (p1 < n1 && 
	                      (p2 >= n2 || items1[p1][VALUE] < items2[p2][VALUE] )) {
	                  r.add(items1[p1][VALUE]);
	                  r.add(items1[p1][WEIGHT]);
	                  p1++;
	              } else if (p2 < n2 && 
	                      (p1 >= n1) || items1[p1][VALUE] > items2[p2][VALUE]) {
	                  r.add(items2[p2][VALUE]);
	                  r.add(items2[p2][WEIGHT]);
	                  p2++;
	              } else {
	                  r.add(items1[p1][VALUE]);
	                  r.add(items1[p1][WEIGHT] + items2[p2][WEIGHT]);
	                  p1++;
	                  p2++;
	              }
	              res.add(r);
	          }
	  
	          return res;
	      }
	  }
	  ```
- # Solution 2: TreeMap
	- ```java
	  // time:  O(NlogN)
	  // space: O(N)
	  class Solution {
	      private static final int VALUE = 0;
	      private static final int WEIGHT = 1;
	  
	      public List<List<Integer>> mergeSimilarItems(int[][] items1, int[][] items2) {
	          Map<Integer, Integer> map = new TreeMap<>();
	          for (int[] item : items1) {
	              map.put(item[VALUE], item[WEIGHT]);
	          }
	          for (int[] item : items2) {
	              map.put(item[VALUE], item[WEIGHT] + map.getOrDefault(item[VALUE], 0));
	          }
	  
	          List<List<Integer>> res = new ArrayList<>();
	          for (Map.Entry<Integer, Integer> entry : map.entrySet()) {
	              List<Integer> r = new ArrayList<>();
	              r.add(entry.getKey());
	              r.add(entry.getValue());
	              res.add(r);
	          }
	  
	          return res;
	      }
	  }
	  ```